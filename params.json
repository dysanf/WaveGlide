{"name":"WaveGlide","tagline":"An open hardware oxygen system for glider pilots.","body":"WaveGlide Oxygen System\r\n========================\r\n\r\nThis project is in **Alpha** phase.\r\n\r\nWaveGlide is an automatic oxygen delivery system for glider pilots. It prevents hypoxia at high altitudes by adding oxygen to the inhaled air. Unlike medical constant flow systems it pulses the oxygen supply at the beginning of the breathing cycle and automatically adapts oxygen levels to altitude.\r\n\r\nThe pulsing allows for higher efficiency and consequently smaller oxygen cylinders. Typically a 1l cylinder is sufficient for one 8h flight. This works because the majority of air inhaled does not reach the [alveoli](https://en.wikipedia.org/wiki/Pulmonary_alveolus) and gets exhaled unused. The oxygen system therefore only oxygenates the inital air of every inhalation.\r\n\r\nAltitude adapdation is crucial as well. The system compensatates for falling O<sub>2</sub> density at altitude by increasing the O<sub>2</sub> content (from the environmental 21% up to 100%). For this it measures the [pressure altitude](https://en.wikipedia.org/wiki/Pressure_altitude) and adjusts the length of the oxygen pulse accordingly.\r\n\r\n\r\nHuman Factors\r\n-------------\r\n[Hypoxia](https://en.wikipedia.org/wiki/Hypoxia_%28medical%29) is a signifficant risk factor in aviation. It affects pilots in adverse ways and the effects often go unnoticed -- *You feel great until it's too late*. Since hypoxia affects brain function (et alii), all kinds of cognitive processes are less effective. Pilots tend to overlook slow running processes like weather changes, have reduced conditional readiness, generally lack creativity when dealing with unusual situations, have simplistic internal arguments, low level of suspicion, and reduced situational awareness.\r\n\r\nThe negative effects gradually increase with altitude but are alleviated by the body's ability to compensate for reduced oxygen density. This compensation varies greatly between people. Canonically speaking the first noticable effect is reduced night vision at 1500m (5000'). From 2000m (6500') to 3800m (12500') the body can compensate lower oxygen availability. Above this altitude compensation ceases to be effective. Blood oxygen level continually go down and cause increasingly more adverse effects. For example, useful time of consciousness ([TUC](https://en.wikipedia.org/wiki/Hypoxia_%28medical%29)) in 4500m (15000') can be as low as 30 minutes. After this time, loss of consciousness is not unusual. In 7500m (25000') TUC is down to 4 minutes.\r\n\r\nMany more factors skew these simple rules. Different people react differently and do so differently on different days.\r\nFor a more nuanced treatise on the effects of hypoxia and some good arguments to oxygenate early, see [Nullhypoxie by Dr. med. Heini Schaffner](nullhypoxie.pdf).\r\n\r\n\r\nThe Law\r\n-------\r\nMost countries base their legal oxygen requirements on FAA's [FAR 91.211](http://www.faa-aircraft-certification.com/91-211-supplemental-oxygen.html): Oxygen must **always** be supplemented **above 14000'** (4267m) and above 12500' (3810m) after a duration of 30 minutes. Depending on country this may or may not apply for gliders.\r\n\r\n* [Gebrauch von Sauerstoff](http://www.dg-flugzeugbau.de/sauerstoff-d.html) by Steele Lipe\r\n\r\n\r\nHow much Oxygen?\r\n---------------\r\n\r\nThe goal is to maintain **blood oxygen saturation above 90%**. This can be measured non-invasively through [pulse oxymetry](https://en.wikipedia.org/wiki/Pulse_oximetry). A pulse oxymeter is a fairly cheap device which measures [\"sats\"](https://en.wikipedia.org/wiki/Oxygen_saturation_%28medicine%29) (SpO<sub>2</sub>) through the skin. With these measurement we can then create a fitting default setting for base supply and altitude adaptation. Physiological differences are further handled by allowing the pilot to percentually  increase/decrease the supply.\r\n\r\nSome care has to be taken to get correct measurements. Reduced blood circulation, cold extremities, excessive ambient light, nail polish, and ill-fitting probes can all skew the measurement.\r\n\r\n* [Pulse Oximetry at High Altitude.](http://www.ncbi.nlm.nih.gov/pubmed/21718156)\r\n* [Limitations in Using a Pulse Oximeter](http://www.amperordirect.com/pc/c-pulse-oximeter/z-pulse-oximeter-limitations.html)\r\n\r\nAs a starting point we can look at the requirements of constant flow systems.\r\n\r\n\r\nComponents\r\n----------\r\n\r\nThe oxygen systems is basically an oxygen cylinder which supplies additional oxygen to the pilot in a controlled way. The pressurized oxygen flows to the pilot due to the pressure differential.\r\n\r\nAt the top of the cylinder is a high pressure valve. This connects to a pressure regulator for controlling the constant flow rate. Then a tube runs to the WaveGlide Controller where a solenoid valve pulses the supply accordingly. The controller does this based on breathing rhythm and pressure altitude.\r\n\r\nA nasal oxygen cannula gets the oxygen from the controller to the pilot. Additionally a mechanical flow meter in this tube supplies a reduandant reading of the system's proper function.\r\n\r\n![waveglide](img/waveglide.png)\r\n\r\n### Oxygen Tank\r\n* aluminium, medical (white in EU)\r\n* 2l at 200bar -> 400l of oxygen\r\n* connector: DIN477\r\n* about EUR 100 filled\r\n\r\n![oxygen cylinder](img/gti-al-cylinder.png)\r\n\r\n### Pressure Regulator\r\n* manometer for checking the oxygen level in the cylinder\r\n* flow rate dial (need 15l/min)\r\n* cylinder connector: DIN477\r\n* output: 9/16\" male\r\n* O2 GTI Rescue 25\r\n* AeroWay Fast-15\r\n\r\n\r\n![pressure regulator](img/gti-rescue-25.png)\r\n\r\n\r\n### Solenoid Valve\r\n* low wattage\r\n* 12V\r\n* M5 connectors\r\n* quick connects, color coded\r\n\r\n![valve](img/airtec.jpg)\r\n\r\n### Controller\r\n* Arduino-based\r\n* 3.7V lipo battery\r\n  * 2000mA -> 7.4W -> 10h\r\n* charging via micro-USB\r\n* 12V boost converter\r\n  * PTN04050CAD\r\n    * 100uF - ECA-1HM101\r\n* breath sensor\r\n  * MPXV7002DP\r\n    * 1uF - USR1H010MDD\r\n    * 0.01uF - FK28C0G1H103J\r\n    * 470pF - K471J15C0GF53L2\r\n* barometric sensor\r\n  * BMP180, adafruit board for prototyping\r\n* solenoid circuitry\r\n  * SSR, diode, 330 Ohm\r\n* interface\r\n  * STATUS\r\n    * on/off LED (1x)\r\n    * charging/full/low LED\r\n    * inhale, exhale, oxygen phase (3x)\r\n  * DOSE TRIM\r\n    * -, normal, +, max (4x)\r\n      * max ignores start altitude\r\n  * START ALTITUDE\r\n    * 1500m, 2800m, 3800m (3x)\r\n  * buzzer alarm (lack of oxygen flow)\r\n* harness clip or arm strap\r\n\r\n\r\n### Nasal Cannula\r\n* [Hudson RCI 1104](http://www.teleflexarcatalog.com/anesthesia-respiratory/respiratory/products/15841) (flared)\r\n\r\n### Tubing\r\n* crush and kink-resistant\r\n* from pressure regulator to controller\r\n  * [Plyamide hose, 6x4, blue](https://www.landefeld.de/artikel/en/polyamide-hose-6-x-4-mm-blue-by-meter/PA+6X4+BLAU)\r\n* to breathing sensor\r\n  * [Polyamide hose 4x2.7 blue](https://www.landefeld.de/artikel/en/polyamide-hose-4-x-2-7-mm-blue-by-meter/PA+4X2%2c7+BLAU)\r\n\r\n\r\n### Tube Coupling\r\n* [coupling M5, 4mm](https://www.landefeld.de/artikel/en/straight-push-in-fitting-m-5-6mm-model-series-topline/RIB+01+06+05)\r\n* [coupling M5, 6mm](https://www.landefeld.de/artikel/en/straight-push-in-fitting-m-5-6mm-model-series-topline/RIB+01+06+05), 2x\r\n\r\n\r\n### Oxygen Flow Meter\r\n* [Nelson A3 flow meter](http://www.nelsonoxygen.com/meters.htm)\r\n\r\n\r\n\r\n\r\nFirmware\r\n--------\r\n\r\nThe firmware runs on a stipped down Arduino (Atmege328, Adafruit Trinket Pro):\r\n\r\n\r\nPrototyping Progress\r\n--------------------\r\n\r\n### Breathing Sensor\r\nIntitial tests of the MPXV7002G differential piezo pressure sensor show a very nice response. Even very light breathing is detectable via the nasal cannula.\r\n\r\nThe start of the oxygen pulse should be at the mid-point following a high point. To not miss any inhaled air the pulse should even be initiated slightly earlier. Measuring the previous period and detecting the high-point should be plenty sufficient.\r\n\r\n![MPXV7002G](img/breathing-sensor.jpg)\r\n![sensor response](img/cannula-breathing-graph.png)\r\n![case](img/waveglide-case.jpg)\r\n![system](img/waveglide-system.jpg)\r\n\r\n\r\nResources\r\n---------\r\n* [Oxygen usage and refilling](http://www.alpenflugzentrum.de/Technik/Artikel/o2.html)\r\n* [Vortrag Dr. med. Schaffner](http://sgbaselfricktal.ch/sauerstoff-im-segelflug/)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}